<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title></title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="">
	</head>
	<style>
		div[style*="background-color"]:last-of-type {
			display: none
		}
	</style>
	<body>
		<!--[if lt IE 7]>
			<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->
		<div id="map" style="width: 100%; height: 100vh"></div>
		<script src="https://maps.googleapis.com/maps/api/js"></script>
		<script>
			function initMap() {
				const map = new google.maps.Map(document.getElementById("map"), {
				  center: { lat: 0, lng: 0 },
				  zoom: 10,
				  streetViewControl: false,
				  mapTypeControlOptions: {
					mapTypeIds: ["moon"],
				  },
				});
				const moonMapType = new google.maps.ImageMapType({
				  getTileUrl: function (coord, zoom) {
					const normalizedCoord = getNormalizedCoord(coord, zoom);
			  
					if (!normalizedCoord) {
					  return "";
					}
			  
					const bound = Math.pow(2, zoom);
					return (
					  "https://cdn.mapgenie.io/images/tiles/genshin-impact/teyvat/default-v7" +
					  "/" +
					  zoom +
					  "/" +
					  normalizedCoord.x +
					  "/" +
					  normalizedCoord.y +
					  ".png"
					);
				  },
				  tileSize: new google.maps.Size(256, 256),
				  maxZoom: 17,
				  minZoom: 10,
				  radius: 1738000,
				  name: "Moon",
				});
			  
				map.mapTypes.set("moon", moonMapType);
				map.setMapTypeId("moon");
			  }
			  
			  // Normalizes the coords that tiles repeat across the x axis (horizontally)
			  // like the standard Google map tiles.
			  function getNormalizedCoord(coord, zoom) {
				const y = coord.y;
				let x = coord.x;
				// tile range in one direction range is dependent on zoom level
				// 0 = 1 tile, 1 = 2 tiles, 2 = 4 tiles, 3 = 8 tiles, etc
				const tileRange = 1 << zoom;
			  
				// don't repeat across y-axis (vertically)
				if (y < 0 || y >= tileRange) {
				  return null;
				}
			  
				// repeat across x-axis
				if (x < 0 || x >= tileRange) {
				  x = ((x % tileRange) + tileRange) % tileRange;
				}
				return { x: x, y: y };
			  }
			  initMap()
		</script>
	</body>
</html>